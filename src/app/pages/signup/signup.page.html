<ion-content [fullscreen]="true" class="signup-content">
  <div class="background-gradient"></div>
  <div class="animated-shapes">
    <div class="shape shape1"></div>
    <div class="shape shape2"></div>
    <div class="shape shape3"></div>
  </div>
  
  <div class="signup-container">
    <ion-button 
      fill="clear" 
      class="back-button"
      (click)="goBack()">
      <ion-icon name="arrow-back" slot="icon-only"></ion-icon>
    </ion-button>

    <div class="header-section">
      <ion-icon name="car-sport" class="app-logo"></ion-icon>
      <h1 class="page-title">Create Account</h1>
      <p class="page-subtitle">Join thousands of car enthusiasts</p>
    </div>

    <div class="form-card">
      <form #signupForm="ngForm" (ngSubmit)="onSignup()">
        <ion-item lines="none" class="custom-input">
          <ion-icon name="person-outline" slot="start"></ion-icon>
          <ion-input 
            type="text" 
            placeholder="Full Name"
            [(ngModel)]="fullName"
            name="fullName"
            required>
          </ion-input>
        </ion-item>

        <ion-item lines="none" class="custom-input">
          <ion-icon name="mail-outline" slot="start"></ion-icon>
          <ion-input 
            type="email" 
            placeholder="Email Address"
            [(ngModel)]="email"
            name="email"
            required
            email>
          </ion-input>
        </ion-item>

        <ion-item lines="none" class="custom-input">
          <ion-icon name="call-outline" slot="start"></ion-icon>
          <ion-input 
            type="tel" 
            placeholder="Phone Number"
            [(ngModel)]="phone"
            name="phone"
            required>
          </ion-input>
        </ion-item>

        <ion-item lines="none" class="custom-input">
          <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
          <ion-input 
            [type]="showPassword ? 'text' : 'password'" 
            placeholder="Password"
            [(ngModel)]="password"
            name="password"
            (ionInput)="checkPasswordStrength()"
            required>
          </ion-input>
          <ion-icon 
            [name]="showPassword ? 'eye-off-outline' : 'eye-outline'" 
            slot="end"
            (click)="togglePassword()"
            class="eye-icon">
          </ion-icon>
        </ion-item>

        <div class="password-strength" *ngIf="password.length > 0">
          <div class="strength-bars">
            <div class="bar" [class.active]="passwordStrength >= 1" [class.weak]="passwordStrength === 1"></div>
            <div class="bar" [class.active]="passwordStrength >= 2" [class.medium]="passwordStrength === 2"></div>
            <div class="bar" [class.active]="passwordStrength >= 3" [class.strong]="passwordStrength === 3"></div>
            <div class="bar" [class.active]="passwordStrength >= 4" [class.strong]="passwordStrength === 4"></div>
          </div>
          <p class="strength-text">{{ passwordStrengthText }}</p>
        </div>

        <ion-item lines="none" class="custom-input">
          <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
          <ion-input 
            [type]="showConfirmPassword ? 'text' : 'password'" 
            placeholder="Confirm Password"
            [(ngModel)]="confirmPassword"
            name="confirmPassword"
            required>
          </ion-input>
          <ion-icon 
            [name]="showConfirmPassword ? 'eye-off-outline' : 'eye-outline'" 
            slot="end"
            (click)="toggleConfirmPassword()"
            class="eye-icon">
          </ion-icon>
        </ion-item>

        <div class="terms-section">
          <ion-checkbox [(ngModel)]="acceptTerms" name="terms" class="custom-checkbox"></ion-checkbox>
          <ion-label class="terms-label">
            I agree to the <span class="link">Terms & Conditions</span> and <span class="link">Privacy Policy</span>
          </ion-label>
        </div>

        <ion-button 
          expand="block" 
          type="submit"
          class="signup-button"
          [disabled]="!signupForm.form.valid || !acceptTerms || password !== confirmPassword">
          Create Account
          <ion-icon name="checkmark-circle" slot="end"></ion-icon>
        </ion-button>
      </form>

      <div class="divider">
        <span>or sign up with</span>
      </div>

      <div class="social-buttons">
        <ion-button fill="outline" class="social-btn">
          <ion-icon name="logo-google"></ion-icon>
        </ion-button>
        <ion-button fill="outline" class="social-btn">
          <ion-icon name="logo-apple"></ion-icon>
        </ion-button>
        <ion-button fill="outline" class="social-btn">
          <ion-icon name="logo-facebook"></ion-icon>
        </ion-button>
      </div>

      <div class="login-section">
        <ion-text>Already have an account? </ion-text>
        <ion-text color="primary" class="login-link" (click)="goToLogin()">
          <strong>Sign In</strong>
        </ion-text>
      </div>
    </div>
  </div>
</ion-content>